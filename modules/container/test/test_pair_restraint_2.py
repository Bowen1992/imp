# NOTE: This file is generated from modules/core/tools/container_tempates/test.py
# do not edit.

import IMP
import IMP.test
import IMP.core
import IMP.container
import math


# This file is generated by the make-container script

class Tests(IMP.test.TestCase):

    """Tests for PairContainer related objects"""

    def test_restraint(self):
        """Simple test of the PairsRestraint"""
        m = IMP.Model()
        cps = IMP._ConstPairScore(1)
        ps = [m.add_particle("P%d" % i) for i in range(0, 10)]
        psc = IMP.container.ListSingletonContainer(m, ps)
        apc = IMP.container.AllPairContainer(psc)
        r = IMP.container.PairsRestraint(cps, apc)
        self.assertEqual(r.evaluate(False), len(apc.get_indexes()))

        lpc = IMP.container.ListPairContainer(m, apc.get_indexes())
        r2 = IMP.container.PairsRestraint(cps, lpc)
        self.assertEqual(r2.evaluate(False), len(apc.get_indexes()))
        self.assertEqual(r2.evaluate(False), len(apc.get_indexes()))
        sf = IMP.core.RestraintsScoringFunction([r2])
        self.assertEqual(sf.evaluate(False), len(apc.get_indexes()))
        self.assertEqual(sf.evaluate(False), len(apc.get_indexes()))

if __name__ == '__main__':
    IMP.test.main()
